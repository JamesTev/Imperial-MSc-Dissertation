\chapter{Introduction}
\label{chapter:introduction}

\graphicspath{ {report/Chapter1/assets/} } 

\section{Background and Motivation}

A brain-computer interface (BCI), also known as brain-machine interface (BMI), is a system that allows computers or other external devices to be controlled by electroencephalographic (EEG) activity alone \cite{bci-survey-nicolas-alonso}. The most common application of BCIs is to provide a means of communication to people who have lost the means to do so in a normal capacity, typically due to injury, trauma or preexisting impairments of the neuromuscular system. Particularly in the case of fully paralysed or 'locked in' patients suffering disorders such as amyotrophic lateral sclerosis (ALS), strokes or spinal cord injuries, advances in BCI technology pose a promising means of restoring the ability to communicate with the outside world \cite{bci-wolpaw}. This is made possible by measuring and characterising (decoding) brain activity in order to translate raw EEG signals into external control commands without any neuromuscular interaction. External control targets may be in the form of computer-based spellers, speech synthesizers or neural prostheses \cite{bci-survey-nicolas-alonso}. 

A challenge with existing BCI technologies is their cost which, in many cases, prohibits their use on a mass scale. In this project, a novel, ultra low-cost\footnote{In the region of 10 to 20 times less expensive than the cheapest comparable commercial model} EEG-based BCI system will be created in order to investigate the viability of acquiring and decoding EEG activity from an audience of 100 people simultaneously. 

While the initial demonstration will be performed on healthy individuals, its success will provide great promise for facilitating large scale interaction and communication between people with neuromuscular impairments such as those mentioned above.  

\section{Objectives of the Study}
The core focus of this study is to develop real time decoding and communication of raw analogue EEG signals acquired from a proprietary EEG hardware device developed by the NGNI lab. These devices will be worn by up to 100 people and will be used to facilitate collaborative control in a multiplayer game. Consequently, decoding, communication and visualisation needs to happen in real time and simultaneously between devices. Specific objectives of this project are outlined below:

\begin{enumerate}
    \item Review the literature pertaining to EEG signal acquisition and decoding. Perform a brief survey of common EEG paradigms and decide on a particular paradigm for further investigation based on a clear rationale. 
    \item Review decoding techniques and algorithms for the selected EEG paradigm. Record the most effective algorithms as specified in the literature, as well as their analytical derivations in preparation for implementation. 
    \item Scope firmware most suitable for the microcontroller used in the EEG hardware supplied by the NGNI Lab
    \item Design and implement embedded software required to sample EEG signals and perform online decoding thereof using previously identified decoding algorithms.
    \item Determine the optimal network protocol and structure to communicate decoded data and any other pertinent device-specific information to a cloud service.
    \item Devise testing mechanisms to verify the validity of obtained results, including significance tests to demonstrate non-trivial decoding skill.
    \item Critically evaluate the performance of the system, both with reference to the objectives of this study and the performance of the most comparable commercially-available system.
    \item Provide a discussion of results obtained and provide reasons for any shortcomings or anomalies. Provide suggestions for further improvement.
    
\end{enumerate}

\subsection{Research questions to be investigated}
This project aims to address the following core research questions: 
\begin{itemize}
    \item Can an ultra low-cost (in the region of £20) device be used to \textit{reliably} decode EEG signals of interest in real time? For a minimum case of reliability, there should be quantifiable measure of significance that demonstrates that events/signals of interest can be decoded beyond just pure chance. 
    \item If so, can such a device perform all computation necessary for signal decoding on-device (without the need to outsource computation to the cloud or end client, for example)? 
\end{itemize}
\subsection{Significance of this work}
If able to fulfil its aforementioned objectives, this device would serve as a significant proof-of-concept system in the area of EEG signal analysis. Importantly, as specified by the constraints below, this device is to be built using low cost, easily accessible components. Commercial EEG devices are typically priced from several hundred GBP and upwards [REF NEEDED]. Very few, if any, devices are available for less than £100. Therefore, while likely slightly less capable than the aforementioned commercial counterparts, the device investigated in this project could pose an interesting low-cost option for large scale EEG data acquisition, testing and experimentation. Furthermore, it could become a valuable pedagogical tool for educating young learners about basic neurophysiology; a field that would otherwise be difficult to access below a tertiary education level.

** Provide a reference that demonstrates the demand for and/or usefulness of these devices. Need to show why having a device like this would actually be significant.

\section{Scope and Constraints}
The task of using this device at scale in a public setting imposes some unique practical constraints. These are outlined below:
\begin{itemize}
    \item production at scale: 100+ replicas of the EEG device need to be produced.
    \item very tight budget of $\approx$ £20 per device.
    \item hardware must be self-contained and so all computation should happen on the hardware. 
    \item there is to be minimal calibration required from the user. If any, it should be done automatically.
    \item real time decoding and feedback of signals (or as close to real time as possible).
    \item user needs to be able to receive feedback on decoded signals - ideally visually.
    \item device should be unobtrusive and cannot use `wet' electrodes that would hamper the user experience.
\end{itemize}

Furthermore, the EEG hardware in development is based on the low-cost Espressif ESP32 SoC based on the Tensilica Xtensa LX6 MCU. 

\subsection{Constraint implications}
The constraints listed above have substantial implications on my project. One of the largest constraints is the budget of £20; entry level consumer-grade BCIs (brain computer interfaces) typically cost in the region of $\$100-\$1000$. As a result, our device will only have \textbf{two active EEG channels}. Although most BCIs have many more active channels, many studies have shown that a viable decoding system can be achieved with only a limited number of channels \cite{Wang2011}, some with even as few as 2 \cite{Acampora2021}. 

The prohibition of wet electrodes is also significant. Wet electrodes are known to significantly improve the quality\footnote{by reducing contact impedance} of the electrical connection to the scalp which would invariably improve SNR. 

The number of samples required for adequate frequency resolution is an important consideration. Initial analysis in the experiments outlined below showed that around 5 seconds worth of sampling at 256Hz was required to achieve adequate frequency resolution. Consequently, computation time is unlikely to be the limiting factor in achieving real time decoding.

\section{Plan of Development}
This report begins with a review of the basics of neurophysiology and how electrical signals are used by the human brain. An overview of the mechanics of electroencephalography (EEG) is presented, followed by some of the popular EEG paradigms explored in the literature. A particular paradigm is selected for further analysis. The current state-of-the-art in EEG signal decoding for the selected EEG paradigm is explored both from a technological and theoretical perspective. 

Chapter \ref{chapter:theory-development} expands on the theory of decoding algorithms that are most applicable to this project. This theory expansion is vital as it lends a far easier understanding of the final implementation in software. Various computational approaches are explored and their advantages and disadvantages analysed. 

Chapter \ref{chapter:system-design} explores the design of the embedded software required to execute the decoding algorithms introduced in the previous chapter. Auxiliary components, such as networking and communication infrastructure, are also explored. Computational challenges and the evolution of their solutions are presented. 

Results of the implemented decoding system are provided in Chapter \ref{chapter:results}. Results obtained in various scenarios are documented, including decoding performance using: publicly available data benchmark data, data gathered using a low level commercially available OpenBCI headset and data using the final hardware prototype created as part of this project. 

Finally, a discussion of the results obtained is provided in Chapter \ref{chapter:discussion-conclusion}. Conclusions are drawn and suggestions for improvement in further work are given. 